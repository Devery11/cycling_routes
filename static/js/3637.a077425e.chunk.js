"use strict";(self.webpackChunkcycling_routes=self.webpackChunkcycling_routes||[]).push([[3637,2945,4920],{64920:(e,t,i)=>{i.d(t,{GB:()=>s,Qo:()=>n,Y4:()=>l});var r=i(24241);class s{}function l(e){return e instanceof r.bo?e===s.instance:"unknown"===(null===e||void 0===e?void 0:e.toString().toLowerCase())}function n(e){return l(e)?s.instance:e}s.instance=new r.oh("Etc/UTC")},76279:(e,t,i)=>{i.d(t,{$X:()=>v,Gy:()=>p,P5:()=>m,SW:()=>f,Tr:()=>y,VV:()=>n});i(19902);const r=(e,t,i)=>[t,i],s=(e,t,i)=>[t,i,e[2]],l=(e,t,i)=>[t,i,e[2],e[3]];function n(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance]:[1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax]:[0,0]}:null}function o(e,t){let{scale:i,translate:r}=e;return Math.round((t-r[0])/i[0])}function a(e,t){let{scale:i,translate:r}=e;return Math.round((r[1]-t)/i[1])}function u(e,t){let{scale:i,translate:r}=e;return t*i[0]+r[0]}function d(e,t){let{scale:i,translate:r}=e;return r[1]-t*i[1]}function h(e,t,i){const r=new Array(i.length);if(!i.length)return r;const[s,l]=e.scale;let n=u(e,i[0][0]),o=d(e,i[0][1]);r[0]=t(i[0],n,o);for(let a=1;a<i.length;a++){const e=i[a];n+=e[0]*s,o-=e[1]*l,r[a]=t(e,n,o)}return r}function c(e,t,i){const r=new Array(i.length);for(let s=0;s<i.length;s++)r[s]=h(e,t,i[s]);return r}function p(e,t,i,r,s){return t.x=o(e,i.x),t.y=a(e,i.y),t!==i&&(r&&(t.z=i.z),s&&(t.m=i.m)),t}function f(e,t,i,n,o){return null!=i&&(t.points=function(e,t,i,n){return h(e,i?n?l:s:n?s:r,t)}(e,i.points,n,o)),t}function y(e,t,i,r,s){return null==i||(t.x=u(e,i.x),t.y=d(e,i.y),t!==i&&(r&&(t.z=i.z),s&&(t.m=i.m))),t}function v(e,t,i,n,o){return null!=i&&(t.rings=function(e,t,i,n){return c(e,i?n?l:s:n?s:r,t)}(e,i.rings,n,o)),t}function m(e,t,i,n,o){return null!=i&&(t.paths=function(e,t,i,n){return c(e,i?n?l:s:n?s:r,t)}(e,i.paths,n,o)),t}},41324:(e,t,i)=>{i.r(t),i.d(t,{default:()=>R});var r,s=i(35143),l=(i(35238),i(94643)),n=i(73763),o=i(77717),a=i(50346),u=i(68134),d=i(90534),h=i(46053),c=(i(81806),i(76460),i(47249),i(28379)),p=i(85842),f=i(17707),y=i(13312),v=i(25515),m=i(65624),g=i(11270),_=i(94729),b=i(21617),w=i(5682),I=i(55053),M=i(54099),F=i(42553),S=i(49304),E=i(88685),P=i(40565),Z=i(69834),A=i(76797);let T=r=class extends(M.A.EventedMixin((0,F.Te)(S.A))){constructor(){super(...arguments),this.description=null,this.fullExtent=null,this.id=null,this.networkLink=null,this.parent=null,this.sublayers=null,this.title=null,this.sourceJSON=null,this.layer=null,this.addHandles([(0,u.on)((()=>this.sublayers),"after-add",(e=>{let{item:t}=e;t.parent=this,t.layer=this.layer}),u.OH),(0,u.on)((()=>this.sublayers),"after-remove",(e=>{let{item:t}=e;t.layer=t.parent=null}),u.OH),(0,u.wB)((()=>this.sublayers),((e,t)=>{if(t)for(const i of t)i.layer=i.parent=null;if(e)for(const i of e)i.parent=this,i.layer=this.layer}),u.OH),(0,u.wB)((()=>this.layer),(e=>{if(this.sublayers)for(const t of this.sublayers)t.layer=e}),u.OH)])}initialize(){(0,u.C_)((()=>this.networkLink)).then((()=>(0,u.C_)((()=>!0===this.visible)))).then((()=>this.load()))}load(e){var t,i;if(!this.networkLink)return;if(this.networkLink.viewFormat)return;const s=null!=e?e.signal:null,n=this._fetchService(null!==(t=null===(i=this._get("networkLink"))||void 0===i?void 0:i.href)&&void 0!==t?t:"",s).then((e=>{var t;const i=(0,Z.Qm)(e.sublayers);this.fullExtent=A.A.fromJSON(i),this.sourceJSON=e;const s=(0,P.dp)(l.A.ofType(r),(0,Z.Jy)(r,e));this.sublayers?this.sublayers.addMany(s):this.sublayers=s,null!==(t=this.layer)&&void 0!==t&&t.emit("sublayer-update"),this.layer&&this.layer.notifyChange("visibleSublayers")}));return this.addResolvingPromise(n),Promise.resolve(this)}get visible(){return this._get("visible")}set visible(e){this._get("visible")!==e&&(this._set("visible",e),this.layer&&this.layer.notifyChange("visibleSublayers"))}readVisible(e,t){return!!t.visibility}_fetchService(e,t){return(0,Z.Ox)(e,this.layer.outSpatialReference,this.layer.refreshInterval,t).then((e=>(0,Z._4)(e.data)))}};(0,s._)([(0,h.MZ)()],T.prototype,"description",void 0),(0,s._)([(0,h.MZ)({type:A.A})],T.prototype,"fullExtent",void 0),(0,s._)([(0,h.MZ)()],T.prototype,"id",void 0),(0,s._)([(0,h.MZ)({readOnly:!0,value:null})],T.prototype,"networkLink",void 0),(0,s._)([(0,h.MZ)({json:{write:{allowNull:!0}}})],T.prototype,"parent",void 0),(0,s._)([(0,h.MZ)({type:l.A.ofType(T),json:{write:{allowNull:!0}}})],T.prototype,"sublayers",void 0),(0,s._)([(0,h.MZ)({value:null,json:{read:{source:"name",reader:e=>(0,E._e)(e)}}})],T.prototype,"title",void 0),(0,s._)([(0,h.MZ)({value:!0})],T.prototype,"visible",null),(0,s._)([(0,c.w)("visible",["visibility"])],T.prototype,"readVisible",null),(0,s._)([(0,h.MZ)()],T.prototype,"sourceJSON",void 0),(0,s._)([(0,h.MZ)()],T.prototype,"layer",void 0),T=r=(0,s._)([(0,p.$)("esri.layers.support.KMLSublayer")],T);const L=T,O=["kml","xml"];let x=class extends((0,m.d)((0,b.J)((0,w.j)((0,g.q)((0,_.A)((0,o.P)(v.A))))))){constructor(){super(...arguments),this._visibleFolders=[],this.allSublayers=new n.A({getCollections:()=>[this.sublayers],getChildrenFunction:e=>e.sublayers}),this.outSpatialReference=y.A.WGS84,this.path=null,this.legendEnabled=!1,this.operationalLayerType="KML",this.sublayers=null,this.type="kml",this.url=null}initialize(){this.addHandles([(0,u.wB)((()=>this.sublayers),((e,t)=>{t&&t.forEach((e=>{e.parent=null,e.layer=null})),e&&e.forEach((e=>{e.parent=this,e.layer=this}))}),u.OH),this.on("sublayer-update",(()=>this.notifyChange("fullExtent")))])}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}readSublayersFromItemOrWebMap(e,t){this._visibleFolders=t.visibleFolders}readSublayers(e,t,i){return(0,Z.Jy)(L,t,i,this._visibleFolders)}writeSublayers(e,t){const i=[],r=e.toArray();for(;r.length;){const e=r[0];e.networkLink||(e.visible&&i.push(e.id),e.sublayers&&r.push(...e.sublayers.toArray())),r.shift()}t.visibleFolders=i}get title(){const e=this._get("title");return e&&"defaults"!==this.originOf("title")?e:this.url?(0,d.e7)(this.url,O)||"KML":e||""}set title(e){this._set("title",e)}get visibleSublayers(){const e=this.sublayers,t=[],i=e=>{e.visible&&(t.push(e),e.sublayers&&e.sublayers.forEach(i))};return e&&e.forEach(i),t}get fullExtent(){return this._recomputeFullExtent()}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["KML"],supportsData:!1},e).catch(a.QP).then((()=>this._fetchService(t)))),Promise.resolve(this)}destroy(){super.destroy(),this.allSublayers.destroy()}async _fetchService(e){const t=await Promise.resolve().then((()=>{var t;return this.resourceInfo?{ssl:!1,data:this.resourceInfo}:(0,Z.Ox)(null!==(t=this.url)&&void 0!==t?t:"",this.outSpatialReference,this.refreshInterval,e)})),i=(0,Z._4)(t.data);i&&this.read(i,{origin:"service"})}_recomputeFullExtent(){let e=null;null!=this.extent&&(e=this.extent.clone());const t=i=>{if(i.sublayers)for(const r of i.sublayers.items)t(r),r.visible&&r.fullExtent&&(null!=e?e.union(r.fullExtent):e=r.fullExtent.clone())};return t(this),e}};(0,s._)([(0,h.MZ)({readOnly:!0})],x.prototype,"allSublayers",void 0),(0,s._)([(0,h.MZ)({type:y.A})],x.prototype,"outSpatialReference",void 0),(0,s._)([(0,h.MZ)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],x.prototype,"path",void 0),(0,s._)([(0,h.MZ)({readOnly:!0,json:{read:!1,write:!1}})],x.prototype,"legendEnabled",void 0),(0,s._)([(0,h.MZ)({type:["show","hide","hide-children"]})],x.prototype,"listMode",void 0),(0,s._)([(0,h.MZ)({type:["KML"]})],x.prototype,"operationalLayerType",void 0),(0,s._)([(0,h.MZ)({})],x.prototype,"resourceInfo",void 0),(0,s._)([(0,h.MZ)({type:l.A.ofType(L),json:{write:{ignoreOrigin:!0}}})],x.prototype,"sublayers",void 0),(0,s._)([(0,c.w)(["web-map","portal-item"],"sublayers",["visibleFolders"])],x.prototype,"readSublayersFromItemOrWebMap",null),(0,s._)([(0,c.w)("service","sublayers",["sublayers"])],x.prototype,"readSublayers",null),(0,s._)([(0,f.K)("sublayers")],x.prototype,"writeSublayers",null),(0,s._)([(0,h.MZ)({readOnly:!0,json:{read:!1}})],x.prototype,"type",void 0),(0,s._)([(0,h.MZ)({json:{origins:{"web-map":{read:{source:"title"}}},write:{ignoreOrigin:!0}}})],x.prototype,"title",null),(0,s._)([(0,h.MZ)(I.OZ)],x.prototype,"url",void 0),(0,s._)([(0,h.MZ)({readOnly:!0})],x.prototype,"visibleSublayers",null),(0,s._)([(0,h.MZ)({type:A.A})],x.prototype,"extent",void 0),(0,s._)([(0,h.MZ)()],x.prototype,"fullExtent",null),x=(0,s._)([(0,p.$)("esri.layers.KMLLayer")],x);const R=x},94729:(e,t,i)=>{i.d(t,{A:()=>I});var r=i(35143),s=i(86560),l=i(55171),n=i(3825),o=i(98773),a=i(50076),u=i(76460),d=i(30726),h=i(50346),c=i(90534),p=i(46053),f=(i(81806),i(47249),i(28379)),y=i(85842),v=i(17707),m=i(31933),g=i(65308),_=i(70652),b=i(38665),w=i(72945);const I=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,d.pR)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}readPortalItem(e,t,i){if(t.itemId)return new _.default({id:t.itemId,portal:null===i||void 0===i?void 0:i.portal})}writePortalItem(e,t){(null===e||void 0===e?void 0:e.id)&&(t.itemId=e.id)}async loadFromPortal(e,t){var r;if(null!==(r=this.portalItem)&&void 0!==r&&r.id)try{const{load:r}=await Promise.all([i.e(2487),i.e(3814)]).then(i.bind(i,73814));return(0,h.Te)(t),await r({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData,layerModuleTypeMap:e.layerModuleTypeMap},t)}catch(s){throw(0,h.zf)(s)||u.A.getLogger(this).warn("Failed to load layer (".concat(this.title,", ").concat(this.id,") portal item (").concat(this.portalItem.id,")\n  ").concat(s)),s}}async finishLoadEditablePortalLayer(e){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(e).catch((e=>((0,h.QP)(e),!0))))}async setUserPrivileges(e,t){if(!s.A.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(t);if(this.url)try{const{features:{edit:i,fullEdit:r},content:{updateItem:s}}=await this._fetchUserPrivileges(e,t);this._set("userHasEditingPrivileges",i),this._set("userHasFullEditingPrivileges",r),this._set("userHasUpdateItemPrivileges",s)}catch(i){(0,h.QP)(i)}}async _fetchUserPrivileges(e,t){let i=this.portalItem;if(!e||!i||!i.loaded||i.sourceUrl)return this._fetchFallbackUserPrivileges(t);const r=e===i.id;if(r&&i.portal.user)return(0,w.It)(i);let s,n;if(r)s=i.portal.url;else try{s=await(0,m.wI)(this.url,t)}catch(d){(0,h.QP)(d)}if(!s||!(0,c.b8)(s,i.portal.url))return this._fetchFallbackUserPrivileges(t);try{const e=null!=t?t.signal:null;n=await(null===l.id||void 0===l.id?void 0:l.id.getCredential("".concat(s,"/sharing"),{prompt:!1,signal:e}))}catch(d){(0,h.QP)(d)}const o=!0,a=!1,u=!1;if(!n)return{features:{edit:o,fullEdit:a},content:{updateItem:u}};try{if(r?await i.reload():(i=new _.default({id:e,portal:{url:s}}),await i.load(t)),i.portal.user)return(0,w.It)(i)}catch(d){(0,h.QP)(d)}return{features:{edit:o,fullEdit:a},content:{updateItem:u}}}async _fetchFallbackUserPrivileges(e){let t=!0;try{t=await this._fetchUserHasEditingPrivileges(e)}catch(i){(0,h.QP)(i)}return{features:{edit:t,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(e){const t=this.url?null===l.id||void 0===l.id?void 0:l.id.findCredential(this.url):null;if(!t)return!0;const i=M.credential===t?M.user:await this._fetchEditingUser(e);return M.credential=t,M.user=i,null==(null===i||void 0===i?void 0:i.privileges)||i.privileges.includes("features:user:edit")}async _fetchEditingUser(e){var t,i;const r=null===(t=this.portalItem)||void 0===t||null===(t=t.portal)||void 0===t?void 0:t.user;if(r)return r;const s=l.id.findServerInfo(null!==(i=this.url)&&void 0!==i?i:"");if(null===s||void 0===s||!s.owningSystemUrl)return null;const a="".concat(s.owningSystemUrl,"/sharing/rest"),u=g.A.getDefault();if(u&&u.loaded&&(0,c.S8)(u.restUrl)===(0,c.S8)(a))return u.user;const d="".concat(a,"/community/self"),h=null!=e?e.signal:null,p=await(0,o.Ke)((0,n.A)(d,{authMode:"no-prompt",query:{f:"json"},signal:h}));return p.ok?b.A.fromJSON(p.value.data):null}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){var i;const r=null===t||void 0===t?void 0:t.portal,s=(null===(i=this.portalItem)||void 0===i?void 0:i.id)&&(this.portalItem.portal||g.A.getDefault());return r&&s&&!(0,c.ut)(s.restUrl,r.restUrl)?(t.messages&&t.messages.push(new a.A("layer:cross-portal","The layer '".concat(this.title," (").concat(this.id,")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer"),{layer:this})),null):super.write(e,{...t,layer:this})}};return(0,r._)([(0,p.MZ)({type:_.default})],t.prototype,"portalItem",null),(0,r._)([(0,f.w)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,r._)([(0,v.K)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,r._)([(0,p.MZ)({clonable:!1})],t.prototype,"resourceReferences",void 0),(0,r._)([(0,p.MZ)({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),(0,r._)([(0,p.MZ)({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),(0,r._)([(0,p.MZ)({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=(0,r._)([(0,y.$)("esri.layers.mixins.PortalLayer")],t),t},M={credential:null,user:null}},21617:(e,t,i)=>{i.d(t,{J:()=>b});var r=i(35143),s=i(76460),l=i(50346),n=i(46053),o=i(21403),a=(i(47249),i(81806),i(85842)),u=i(80979),d=i(94643),h=(i(98773),i(50076),i(68452),i(49281));const c=new d.A,p=new WeakMap;function f(e){y(e)&&c.push(new WeakRef(e))}function y(e){return null!=e&&"object"==typeof e&&"refreshInterval"in e&&"refresh"in e}function v(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:v(t,e%t):0}let m=0,g=0;function _(){const e=Date.now();let t=!1;for(const r of c){const s=r.deref();var i;if(s){if(s.refreshInterval)e-(null!==(i=p.get(s))&&void 0!==i?i:0)+5>=6e4*s.refreshInterval&&(p.set(s,e),s.refresh(e))}else t=!0}if(t)for(let r=c.length-1;r>=0;r--)c.at(r).deref()||c.removeAt(r)}(0,h.fm)((()=>{const e=Date.now();let t=0;for(const i of c){const r=i.deref();r&&(t=v(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?p.get(r)||p.set(r,e):p.delete(r))}if(t!==g){if(g=t,clearInterval(m),0===g)return void(m=0);m=setInterval(_,g)}}));const b=e=>{let t=class extends e{constructor(){super(...arguments),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,l.sg)((()=>this.hasDataChanged())),this.when().then((()=>{this.destroyed||f(this)}),(()=>{}))}destroy(){!function(e){const t=c.find((t=>t.deref()===e));t&&c.remove(t)}(this)}castRefreshInterval(e){return e>=.1?e:e<=0?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();(0,l.QZ)(this._debounceHasDataChanged()).then((t=>{t&&this._set("refreshTimestamp",e),this.emit("refresh",{dataChanged:t})}),(e=>{s.A.getLogger(this).error(e),this.emit("refresh",{dataChanged:!1,error:e})}))}async hasDataChanged(){return!0}get test(){const e=this;return{set refreshInterval(t){e._set("refreshInterval",t)}}}};return(0,r._)([(0,n.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:u.K}}}}})],t.prototype,"refreshInterval",void 0),(0,r._)([(0,o.w)("refreshInterval")],t.prototype,"castRefreshInterval",null),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"refreshParameters",null),t=(0,r._)([(0,a.$)("esri.layers.mixins.RefreshableLayer")],t),t}},1900:(e,t,i)=>{i.d(t,{A:()=>c});var r=i(50076),s=i(42553),l=i(76460),n=i(87663),o=i(64920),a=i(53430),u=i(67478),d=i(24241);const h=new Map;class c{static fromJSON(e){return new c(e.fields,e.timeZoneByFieldName)}static fromLayer(e){var t;return new c(null!==(t=e.fields)&&void 0!==t?t:[],v(e))}static fromLayerJSON(e){var t;return new c(null!==(t=e.fields)&&void 0!==t?t:[],v(e))}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=t?new Map(t):null;const i=[];for(const s of this.fields){const e=null===s||void 0===s?void 0:s.name,t=f(e);if(e&&t){var r;const l=p(e);this._fieldsMap.set(e,s),this._fieldsMap.set(l,s),this._normalizedFieldsMap.set(t,s),i.push("".concat(l,":").concat(s.type,":").concat(null===(r=this._timeZoneByFieldName)||void 0===r?void 0:r.get(e))),(0,a.vE)(s)?(this.dateFields.push(s),this._dateFieldsSet.add(s)):(0,a.WA)(s)&&(this._numericFieldsSet.add(s),this.numericFields.push(s)),(0,a.te)(s)||(0,a.Xz)(s)||(s.editable=null==s.editable||!!s.editable,s.nullable=null==s.nullable||!!s.nullable)}}i.sort(),this.uid=i.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)(0,a.te)(e)||(0,a.Xz)(e)||e.nullable||void 0!==(0,a.lD)(e)||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===(null===e||void 0===e?void 0:e.uid)}has(e){return null!=this.get(e)}get(e){var t;if(!e)return;let i=this._fieldsMap.get(e);return i||(i=null!==(t=this._fieldsMap.get(p(e)))&&void 0!==t?t:this._normalizedFieldsMap.get(f(e)),i&&this._fieldsMap.set(e,i),i)}getTimeZone(e){const t=this.get(e&&"string"!=typeof e?e.name:e);return t?this._timeZoneByFieldName?this._timeZoneByFieldName.get(t.name):"date"===t.type||"esriFieldTypeDate"===t.type?(l.A.getLogger("esri.layers.support.FieldsIndex").error(new r.A("getTimeZone:no-timezone-information","no time zone information for field '".concat(t.name,"'"))),u.n$):y.has(t.type)?u.L5:null:null}getLuxonTimeZone(e){const t=this.getTimeZone(e);return t?t===u.L5?o.GB.instance:t===u.n$?d.mQ.utcInstance:(0,n.tE)(h,t,(()=>d.oh.create(t))):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return(0,a.OH)(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){var t,i;return null!==(t=null===(i=this.get(e))||void 0===i?void 0:i.name)&&void 0!==t?t:void 0}toJSON(){return{fields:this.fields.map((e=>(0,s.Wj)(e)?e.toJSON():e)),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function p(e){return e.trim().toLowerCase()}function f(e){var t,i;return null!==(t=null===(i=(0,a.rS)(e))||void 0===i?void 0:i.toLowerCase())&&void 0!==t?t:""}const y=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function v(e){var t,i,r,s,l,n,o;const a=new Map;if(!e.fields)return a;const d=!0===e.datesInUnknownTimezone,{timeInfo:h,editFieldsInfo:c}=e,f=null!==(t=h?"startField"in h?h.startField:h.startTimeField:"")&&void 0!==t?t:"",v=null!==(i=h?"endField"in h?h.endField:h.endTimeField:"")&&void 0!==i?i:"",m=function(e){return"dateFieldsTimeZone"in e}(e)?null!==(r=e.dateFieldsTimeZone)&&void 0!==r?r:null:e.dateFieldsTimeReference?(0,u.ZS)(e.dateFieldsTimeReference):null,g=c?function(e){return"timeZone"in e}(c)?null!==(s=c.timeZone)&&void 0!==s?s:m:c.dateFieldsTimeReference?(0,u.ZS)(c.dateFieldsTimeReference):null!==m&&void 0!==m?m:u.n$:null,_=h?function(e){return"timeZone"in e}(h)?null!==(l=h.timeZone)&&void 0!==l?l:m:h.timeReference?(0,u.ZS)(h.timeReference):m:null,b=new Map([[p(null!==(n=null===c||void 0===c?void 0:c.creationDateField)&&void 0!==n?n:""),g],[p(null!==(o=null===c||void 0===c?void 0:c.editDateField)&&void 0!==o?o:""),g],[p(f),_],[p(v),_]]);for(const{name:I,type:M}of e.fields)if(y.has(M))a.set(I,u.L5);else if("date"!==M&&"esriFieldTypeDate"!==M)a.set(I,null);else if(d)a.set(I,u.L5);else{var w;const e=null!==(w=b.get(p(null!==I&&void 0!==I?I:"")))&&void 0!==w?w:m;a.set(I,e)}return a}},72945:(e,t,i)=>{i.d(t,{It:()=>c,LG:()=>n,OM:()=>u,Y:()=>o,bK:()=>a,mm:()=>h,sQ:()=>d});var r=i(26346),s=i(13312),l=i(45417);function n(e,t){if(!o(e,t)){const i=e.typeKeywords;i?i.push(t):e.typeKeywords=[t]}}function o(e,t){var i;return!(null===(i=e.typeKeywords)||void 0===i||!i.includes(t))}function a(e){return o(e,h.HOSTED_SERVICE)}function u(e,t){const i=e.typeKeywords;if(i){const e=i.indexOf(t);e>-1&&i.splice(e,1)}}async function d(e){const t=e.clone().normalize();let i;if(t.length>1)for(const r of t)i?r.width>i.width&&(i=r):i=r;else i=t[0];return async function(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return(0,l.ci)(e);const i=s.A.WGS84;return await(0,r.initializeProjection)(t,i),(0,r.project)(e,i)}(i)}const h={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function c(e){var t;const{portal:i,isOrgItem:r,itemControl:s}=e,l=null===(t=i.user)||void 0===t?void 0:t.privileges;let n=!l||l.includes("features:user:edit"),o=!!r&&!(null===l||void 0===l||!l.includes("features:user:fullEdit"));const a="update"===s||"admin"===s;return a?o=n=!0:o&&(n=!0),{features:{edit:n,fullEdit:o},content:{updateItem:a}}}}}]);
//# sourceMappingURL=3637.a077425e.chunk.js.map